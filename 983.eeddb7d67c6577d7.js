"use strict";(self.webpackChunkFood_Recipe=self.webpackChunkFood_Recipe||[]).push([[983],{983:(R,p,i)=>{i.r(p),i.d(p,{CategoriesModule:()=>J});var g=i(6814),c=i(7700),e=i(5879),l=i(95);function u(n,d){1&n&&(e.TgZ(0,"h2"),e._uU(1,"Edit "),e.TgZ(2,"span",11),e._uU(3,"the Category !"),e.qZA()())}function h(n,d){1&n&&(e.TgZ(0,"h2"),e._uU(1,"Fill "),e.TgZ(2,"span",11),e._uU(3,"the Category !"),e.qZA()())}let m=(()=>{class n{constructor(t,o){this.dialogRef=t,this.data=o,this.categoryName="",this.isUpdatedPage=!1,null!=o.id?(this.categoryName=o.name,this.isUpdatedPage=!0,console.log(o)):(this.isUpdatedPage=!1,console.log(o))}ngOnit(){console.log(this.data)}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(c.so),e.Y36(c.WI))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-edit-category"]],decls:13,vars:4,consts:[[1,"card-auth"],[1,"d-flex","justify-content-between","mb-4","align-items-center"],[4,"ngIf"],[3,"click"],[1,"fa-regular","fa-2x","fa-circle-xmark","text-danger"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text","h-100"],[1,"fa-solid","fa-pen"],["type","text","placeholder","Enter Category Name","aria-label","categoryName","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"primary","my-2","w-100",3,"mat-dialog-close"],[1,"text-main"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,u,4,0,"h2",2),e.YNc(3,h,4,0,"h2",2),e.TgZ(4,"a",3),e.NdJ("click",function(){return a.onNoClick()}),e._UZ(5,"i",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"span",7),e._UZ(9,"i",8),e.qZA()(),e.TgZ(10,"input",9),e.NdJ("ngModelChange",function(r){return a.categoryName=r}),e.qZA()(),e.TgZ(11,"button",10),e._uU(12," Add "),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("ngIf",a.isUpdatedPage),e.xp6(1),e.Q6J("ngIf",!a.isUpdatedPage),e.xp6(7),e.Q6J("ngModel",a.categoryName),e.xp6(1),e.Q6J("mat-dialog-close",a.categoryName))},dependencies:[g.O5,l.Fj,l.JJ,l.On,c.ZT]})}return n})();var f=i(8693),C=i(9862);let y=(()=>{class n{constructor(t){this._httpClient=t}getCategories(t){return this._httpClient.get("Category",{params:t})}getCategoryById(t){return this._httpClient.get(`Category/${t}`)}addCategory(t){return this._httpClient.post("Category",{name:t})}editCategory(t,o){return this._httpClient.put(`Category/${t}`,{name:o})}deleteCategory(t){return this._httpClient.delete(`Category/${t}`)}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(C.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z=i(2425),b=i(8805),_=i(8937);function T(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td")(10,"div",23)(11,"a",24),e._UZ(12,"i",25),e.qZA(),e.TgZ(13,"ul",26)(14,"li")(15,"a",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openEditDialog(s))}),e.TgZ(16,"span"),e._UZ(17,"i",28),e.qZA(),e.TgZ(18,"span",29),e._uU(19,"Edit"),e.qZA()()(),e.TgZ(20,"li")(21,"a",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openDeleteDialog(s))}),e.TgZ(22,"span"),e._UZ(23,"i",30),e.qZA(),e.TgZ(24,"span",29),e._uU(25,"Delete"),e.qZA()()()()()()()}if(2&n){const t=d.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,3,t.creationDate,"dd-MM-yyyy , hh:mm a")),e.xp6(3),e.Oqu(e.xi3(8,6,t.modificationDate,"dd-MM-yyyy , hh:mm a"))}}function v(n,d){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,T,26,9,"tr",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.tableData)}}function A(n,d){1&n&&(e.TgZ(0,"div",2)(1,"div",31),e._UZ(2,"app-no-data"),e.qZA()())}const x=function(){return[5,10,25]};let N=(()=>{class n{constructor(t,o,a){this._categoryService=t,this.dialog=o,this.toastr=a,this.searchValue="",this.pageNumber=1,this.pageSize=5,this.tableData=[]}ngOnInit(){this.getTableData()}getTableData(){this._categoryService.getCategories({pageSize:this.pageSize,pageNumber:this.pageNumber,name:this.searchValue}).subscribe({next:o=>{console.log(o),this.tableResponse=o,this.tableData=this.tableResponse?.data},error:()=>{},complete:()=>{let o=this.tableResponse?.totalNumberOfRecords;void 0!==o?localStorage.setItem("categories",o.toLocaleString()):localStorage.setItem("categories","0")}})}handlePageEvent(t){console.log(t),this.pageNumber=t.pageIndex,this.pageSize=t.pageSize,this.getTableData()}openAddDialog(){this.dialog.open(m,{data:{},width:"40%"}).afterClosed().subscribe(o=>{console.log("The dialog was closed"),console.log(o),o&&this.onAddNewCategory(o)})}onAddNewCategory(t){this._categoryService.addCategory(t).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o.error.message),this.toastr.error(o.error.message,"error!")},complete:()=>{this.toastr.success(this.message,"Done!"),this.getTableData()}})}openDeleteDialog(t){console.log(t),this.dialog.open(f.F,{data:t,width:"30%"}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),a&&(console.log(a.id),this.onDeleteCategory(a.id))})}onDeleteCategory(t){this._categoryService.deleteCategory(t).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o.error.message),this.toastr.error(o.error.message,"error!")},complete:()=>{this.toastr.success(this.message,"Done!"),this.getTableData()}})}openEditDialog(t){this.dialog.open(m,{data:t,width:"40%"}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),a&&this.oneditNewCategory(t.id,a)})}oneditNewCategory(t,o){this._categoryService.editCategory(t,o).subscribe({next:a=>{console.log(a)},error:a=>{console.log(a.error.message),this.toastr.error(a.error.message,"error!")},complete:()=>{this.toastr.success(this.message,"Done!"),this.getTableData()}})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(y),e.Y36(c.uw),e.Y36(Z._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-categories"]],decls:42,vars:8,consts:[["id","page-header",1,"my-3"],[1,"container"],[1,"row"],[1,"col-md-9","d-flex","align-items-center"],[1,"px-5"],[1,"col-md-3"],["src","assets/menu-avatar.svg","alt","",1,"w-75","mb-0"],["id","header-table",1,"my-3"],[1,"container-fluid"],[1,"d-flex","gap-5","justify-content-between","align-items-center"],[1,"flex-grow-1"],["type","text","placeholder","search by name ","aria-label","search","aria-describedby","basic-addon1",1,"form-control","rounded",3,"ngModel","ngModelChange","keyup.enter"],[1,""],["type","submit",1,"primary",3,"click"],["id","table",1,"my-4"],[1,"d-flex","justify-content-between","content-table"],[1,"table","table-hover"],["scope","col"],[4,"ngIf"],["class","row",4,"ngIf"],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["paginator",""],[4,"ngFor","ngForOf"],[1,"dropdown","text-center"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","text-muted"],[1,"fa-solid","fa-ellipsis","fa-lg","text-main"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fa-regular","fa-pen-to-square","text-main"],[1,"p-2"],[1,"fa-solid","fa-trash-can","text-danger"],[1,"col-md-6","mx-auto"]],template:function(o,a){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),e._uU(6,"Categories "),e.TgZ(7,"span"),e._uU(8," !"),e.qZA()(),e.TgZ(9,"p"),e._uU(10," You can now add your items that any user can order it from the Application and you can edit "),e.qZA()()(),e.TgZ(11,"div",5)(12,"div"),e._UZ(13,"img",6),e.qZA()()()()(),e.TgZ(14,"section",7)(15,"div",8)(16,"div",9)(17,"div",10)(18,"input",11),e.NdJ("ngModelChange",function(r){return a.searchValue=r})("keyup.enter",function(){return a.getTableData()}),e.qZA()(),e.TgZ(19,"div",12)(20,"button",13),e.NdJ("click",function(){return a.openAddDialog()}),e._uU(21,"Add New Category"),e.qZA()()()()(),e.TgZ(22,"section",14)(23,"div",8)(24,"div",15)(25,"p"),e._uU(26,"Name"),e.qZA(),e.TgZ(27,"p"),e._uU(28,"Actions"),e.qZA()(),e.TgZ(29,"table",16)(30,"thead")(31,"tr"),e._UZ(32,"th",17),e.TgZ(33,"th",17),e._uU(34,"Creation Date"),e.qZA(),e.TgZ(35,"th",17),e._uU(36,"Modification Date"),e.qZA()()(),e.YNc(37,v,2,1,"tbody",18),e.qZA(),e.YNc(38,A,3,0,"div",19),e.TgZ(39,"div")(40,"mat-paginator",20,21),e.NdJ("page",function(r){return a.handlePageEvent(r)}),e.qZA()()()()),2&o&&(e.xp6(18),e.Q6J("ngModel",a.searchValue),e.xp6(19),e.Q6J("ngIf",a.tableData.length>0),e.xp6(1),e.Q6J("ngIf",0==a.tableData.length),e.xp6(2),e.Q6J("length",null==a.tableResponse?null:a.tableResponse.totalNumberOfRecords)("pageSize",null==a.tableResponse?null:a.tableResponse.pageSize)("pageSizeOptions",e.DdM(7,x))("pageIndex",null==a.tableResponse?null:a.tableResponse.pageNumber))},dependencies:[g.sg,g.O5,l.Fj,l.JJ,l.On,b.NW,_.d,g.uU]})}return n})();var U=i(157),D=i(6208);const w=[{path:"",component:N}];let J=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[g.ez,U.Bz.forChild(w),D.m]})}return n})()}}]);
