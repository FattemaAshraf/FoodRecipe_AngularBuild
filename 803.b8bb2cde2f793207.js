"use strict";(self.webpackChunkFood_Recipe=self.webpackChunkFood_Recipe||[]).push([[803],{4400:(y,v,l)=>{l.d(v,{j:()=>i});var u=l(5879),Z=l(9862);let i=(()=>{class e{constructor(c){this._httpClient=c}getRecipes(c){return this._httpClient.get("Recipe",{params:c})}getRecipeById(c){return this._httpClient.get(`Recipe/${c}`)}addRecipe(c){return this._httpClient.post("Recipe",c)}editRecipe(c,g){return this._httpClient.put(`Recipe/${c}`,g)}deleteRecipe(c){return this._httpClient.delete(`Recipe/${c}`)}static#e=this.\u0275fac=function(g){return new(g||e)(u.LFG(Z.eN))};static#n=this.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},4803:(y,v,l)=>{l.r(v),l.d(v,{DashboardModule:()=>ge});var u=l(6814),Z=l(6208),i=l(95),e=l(5879),f=l(7700),c=l(139),g=l(2425),d=l(157);function T(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"password is required"),e.qZA())}function U(n,s){if(1&n&&(e.TgZ(0,"span",19),e.YNc(1,T,2,0,"span",20),e.qZA()),2&n){const o=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=o.changePasswordForm.get("oldPassword"))?null:r.hasError("required"))}}function A(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"password is required"),e.qZA())}function k(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"password and confirm password not match"),e.qZA())}function O(n,s){if(1&n&&(e.TgZ(0,"span",19),e.YNc(1,A,2,0,"span",20),e.YNc(2,k,2,0,"span",20),e.qZA()),2&n){const o=e.oxw();let r,t;e.xp6(1),e.Q6J("ngIf",null==(r=o.changePasswordForm.get("newPassword"))?null:r.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=o.changePasswordForm.get("newPassword"))||null==t.errors?null:t.errors.invalid)}}function N(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"password is required"),e.qZA())}function I(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"password and confirm password not match"),e.qZA())}function q(n,s){if(1&n&&(e.TgZ(0,"span",19),e.YNc(1,N,2,0,"span",20),e.YNc(2,I,2,0,"span",20),e.qZA()),2&n){const o=e.oxw();let r,t;e.xp6(1),e.Q6J("ngIf",null==(r=o.changePasswordForm.get("confirmNewPassword"))?null:r.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=o.changePasswordForm.get("confirmNewPassword"))||null==t.errors?null:t.errors.invalid)}}let C=(()=>{class n{constructor(o,r,t,a){this.dialogRef=o,this._AuthService=r,this.toastr=t,this._router=a,this.changePasswordForm=new i.cw({oldPassword:new i.NI(null,[i.kI.required,i.kI.pattern("^(?=.?[A-Z])(?=.?[a-z])(?=.?[0-9])(?=.?[#?!@$%^&*-]).{8,16}$")]),newPassword:new i.NI(null,[i.kI.required,i.kI.pattern("^(?=.?[A-Z])(?=.?[a-z])(?=.?[0-9])(?=.?[#?!@$%^&*-]).{8,16}$")]),confirmNewPassword:new i.NI(null,[i.kI.required,i.kI.pattern("^(?=.?[A-Z])(?=.?[a-z])(?=.?[0-9])(?=.?[#?!@$%^&*-]).{8,16}$")])}),this.hide=!1,this.hideConfirm=!1}onSubmit(o){return this._AuthService.onChangePassword(o.value).subscribe({next:r=>{console.log(r),r=this.changePasswordForm},error:r=>{console.log(r.error.message),this.toastr.error(r.error.message,"error!")},complete:()=>{this.dialogRef.close(),this.toastr.success("Password has been updated successfully","Done")}})}close(){this.dialogRef.close()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(f.so),e.Y36(c.e),e.Y36(g._W),e.Y36(d.F0))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-change-password"]],decls:38,vars:14,consts:[[1,"card-auth"],[1,"text-center"],["src","assets/logo-lanscape.png","alt","logo",1,"w-75"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text","h-100"],[1,"fa-solid","fa-lock"],["formControlName","oldPassword","type","text","placeholder","oldPassword","aria-label","Password","aria-describedby","basic-addon1",1,"form-control",3,"type"],[1,"eye-icon",3,"click"],[1,"fa-solid"],["class","text-danger mb-3",4,"ngIf"],[1,"input-group","mb-3","position-relative"],["formControlName","newPassword","type","text","placeholder","newPassword","aria-label","Password","aria-describedby","basic-addon1",1,"form-control",3,"type"],["formControlName","confirmNewPassword","type","text","placeholder","confirmNewPassword","aria-label","Password","aria-describedby","basic-addon1",1,"form-control",3,"type"],[1,"d-flex","justify-content-between","my-2"],["type","submit",1,"outline-primary","m-2","w-50",3,"click"],[1,"fa-solid","fa-arrow-left","pl-2"],["type","submit",1,"primary","m-2","w-50",3,"mat-dialog-close"],[1,"text-danger","mb-3"],[4,"ngIf"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"h2"),e._uU(4,"Change Your Password"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"Enter your details below"),e.qZA(),e.TgZ(7,"form",3),e.NdJ("ngSubmit",function(){return t.onSubmit(t.changePasswordForm)}),e.TgZ(8,"div",4)(9,"div",5)(10,"span",6),e._UZ(11,"i",7),e.qZA()(),e._UZ(12,"input",8),e.TgZ(13,"span",9),e.NdJ("click",function(){return t.hide=!t.hide}),e._UZ(14,"i",10),e.qZA()(),e.YNc(15,U,2,1,"span",11),e.TgZ(16,"div",12)(17,"div",5)(18,"span",6),e._UZ(19,"i",7),e.qZA()(),e._UZ(20,"input",13),e.TgZ(21,"span",9),e.NdJ("click",function(){return t.hideConfirm=!t.hideConfirm}),e._UZ(22,"i",10),e.qZA()(),e.YNc(23,O,3,2,"span",11),e.TgZ(24,"div",12)(25,"div",5)(26,"span",6),e._UZ(27,"i",7),e.qZA()(),e._UZ(28,"input",14),e.TgZ(29,"span",9),e.NdJ("click",function(){return t.hideConfirm=!t.hideConfirm}),e._UZ(30,"i",10),e.qZA()(),e.YNc(31,q,3,2,"span",11),e.TgZ(32,"div",15)(33,"button",16),e.NdJ("click",function(){return t.close()}),e._UZ(34,"i",17),e._uU(35," Back "),e.qZA(),e.TgZ(36,"button",18),e._uU(37," Change Password "),e.qZA()()()()),2&r){let a,p,m;e.xp6(7),e.Q6J("formGroup",t.changePasswordForm),e.xp6(5),e.Q6J("type",t.hide?"password":"text"),e.xp6(2),e.Tol(t.hide?"fa-eye-slash":"fa-eye"),e.xp6(1),e.Q6J("ngIf",(null==(a=t.changePasswordForm.get("oldPassword"))?null:a.invalid)&&((null==(a=t.changePasswordForm.get("oldPassword"))?null:a.dirty)||(null==(a=t.changePasswordForm.get("password"))?null:a.touched))),e.xp6(5),e.Q6J("type",t.hideConfirm?"password":"text"),e.xp6(2),e.Tol(t.hideConfirm?"fa-eye-slash":"fa-eye"),e.xp6(1),e.Q6J("ngIf",(null==(p=t.changePasswordForm.get("newPassword"))?null:p.invalid)&&((null==(p=t.changePasswordForm.get("newPassword"))?null:p.dirty)||(null==(p=t.changePasswordForm.get("newPassword"))?null:p.touched))),e.xp6(5),e.Q6J("type",t.hideConfirm?"password":"text"),e.xp6(2),e.Tol(t.hideConfirm?"fa-eye-slash":"fa-eye"),e.xp6(1),e.Q6J("ngIf",(null==(m=t.changePasswordForm.get("confirmNewPassword"))?null:m.invalid)&&((null==(m=t.changePasswordForm.get("confirmNewPassword"))?null:m.dirty)||(null==(m=t.changePasswordForm.get("confirmNewPassword"))?null:m.touched))),e.xp6(5),e.Q6J("mat-dialog-close",t.changePasswordForm)}},dependencies:[u.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,f.ZT]})}return n})(),M=(()=>{class n{constructor(o,r){this._router=o,this.dialogRef=r}logout(){localStorage.removeItem("userToken"),localStorage.removeItem("role"),localStorage.removeItem("userName"),this._router.navigate(["/auth"]),this.close()}close(){this.dialogRef.close()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(d.F0),e.Y36(f.so))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-log-out"]],decls:16,vars:0,consts:[[1,"container"],[1,"row"],[1,"card-auth"],[1,"text-center"],["src","assets/logo-lanscape.png","alt","logo",1,"w-50"],[1,"d-flex","justify-content-between","my-2"],["type","submit",1,"outline-primary","m-2","w-50",3,"click"],[1,"fa-solid","fa-arrow-left","pl-2"],["type","submit",1,"primary","m-2","w-50",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"img",4),e.qZA(),e.TgZ(6,"h2"),e._uU(7,"Are you sure?"),e.qZA(),e.TgZ(8,"p"),e._uU(9,"We will miss you.."),e.qZA()(),e.TgZ(10,"div",5)(11,"button",6),e.NdJ("click",function(){return t.close()}),e._UZ(12,"i",7),e._uU(13," Back "),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){return t.logout()}),e._uU(15," Log out "),e.qZA()()()()())}})}return n})();function F(n,s){if(1&n&&(e.TgZ(0,"li",12)(1,"a"),e._UZ(2,"i"),e.TgZ(3,"span",9),e._uU(4),e.qZA()()()),2&n){const o=e.oxw().$implicit,r=e.oxw();e.Tol(r.isOpened?"":"d-flex justify-content-center"),e.Q6J("routerLink",o.link),e.xp6(2),e.Tol("fa-solid fa-1x "+o.icon),e.xp6(1),e.Tol(r.isOpened?"":"d-none"),e.xp6(1),e.Oqu(o.title)}}function S(n,s){if(1&n&&(e.ynx(0),e.YNc(1,F,5,8,"li",11),e.BQk()),2&n){const o=s.$implicit;e.xp6(1),e.Q6J("ngIf",o.isActive)}}let b=(()=>{class n{constructor(o,r,t,a,p){this._authService=o,this._router=r,this.dialog=t,this._AuthService=a,this.toastr=p,this.isOpened=!0,this.menu=[{title:"Home",icon:"fa-house",link:"/dashboard/home",isActive:this.isAdmin()||this.isUser()},{title:"Users",icon:"fa-users",link:"/dashboard/admin/users",isActive:this.isAdmin()},{title:"Recipes",icon:"fa-bowl-rice",link:"/dashboard/admin/recipes",isActive:this.isAdmin()},{title:"Categories",icon:"fa-calendar-days",link:"/dashboard/admin/categories",isActive:this.isAdmin()},{title:"User Recipes",icon:"fa-bowl-rice",link:"/dashboard/user/recipes",isActive:this.isUser()},{title:"Favourites",icon:"fa-heart",link:"/dashboard/user/favourites",isActive:this.isUser()}]}isAdmin(){return"SuperAdmin"==this._authService.role}isUser(){return"SystemUser"==this._authService.role}openDialogCahngePassword(){this.dialog.open(C,{data:{},width:"40%"})}openDialogLogOut(){this.dialog.open(M,{data:{},width:"40%"})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(c.e),e.Y36(d.F0),e.Y36(f.uw),e.Y36(c.e),e.Y36(g._W))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-sidebar"]],decls:18,vars:9,consts:[["id","sidebar",1,"bg-dark-color","sticky"],[1,"container-fluid"],[1,"row"],[1,"text-center","my-5",3,"click"],["src","assets/logo-icon.png","alt","",1,"w-50"],[1,"px-0"],[4,"ngFor","ngForOf"],["mat-button","",3,"click"],[1,"fa-solid","fa-unlock-keyhole"],["routerLinkActive","text-white"],[1,"fa-solid","fa-right-from-bracket"],[3,"routerLink","class",4,"ngIf"],[3,"routerLink"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("click",function(){return t.isOpened=!t.isOpened}),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"ul"),e.YNc(7,S,2,1,"ng-container",6),e.TgZ(8,"li")(9,"a",7),e.NdJ("click",function(){return t.openDialogCahngePassword()}),e._UZ(10,"i",8),e.TgZ(11,"span",9),e._uU(12,"Change Password"),e.qZA()()(),e.TgZ(13,"li")(14,"a",7),e.NdJ("click",function(){return t.openDialogLogOut()}),e._UZ(15,"i",10),e.TgZ(16,"span",9),e._uU(17,"Log out"),e.qZA()()()()()()()()),2&r&&(e.xp6(7),e.Q6J("ngForOf",t.menu),e.xp6(1),e.Tol(t.isOpened?"":"d-flex justify-content-center"),e.xp6(3),e.Tol(t.isOpened?"":"d-none"),e.xp6(2),e.Tol(t.isOpened?"":"d-flex justify-content-center"),e.xp6(3),e.Tol(t.isOpened?"":"d-none"))},dependencies:[u.sg,u.O5,d.rH,d.Od],styles:['#sidebar[_ngcontent-%COMP%]{border-top-right-radius:58px;height:100vh}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 20px 10px 30px;position:relative}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;width:1.4375rem;color:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff81;font-weight:500;font-size:15px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{position:absolute;content:"";height:100%;width:16px;left:0;top:0;background-color:#4aa35a}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#4aa35a1a}#sidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}#sidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(.9);background-color:#4aa35a1a;border-radius:50%}.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1071}.row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}ul[_ngcontent-%COMP%]{list-style:none}']})}return n})(),P=(()=>{class n{constructor(o,r,t){this.dialog=o,this._authService=r,this._router=t}logout(){localStorage.removeItem("userToken"),localStorage.removeItem("role"),localStorage.removeItem("userName"),this._router.navigate(["/auth"])}openDialog(){this.dialog.open(C,{data:{}})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(f.uw),e.Y36(c.e),e.Y36(d.F0))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(r,t){if(1&r&&e.Gf(b,5),2&r){let a;e.iGM(a=e.CRH())&&(t.sideBar=a.first)}},decls:9,vars:4,consts:[[1,"container-fluid"],[1,"row","opened"],[1,"px-0"],[1,"px-4"],[1,"sticky"]],template:function(r,t){1&r&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2),e._UZ(4,"app-sidebar"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4),e._UZ(7,"app-navbar"),e.qZA(),e._UZ(8,"router-outlet"),e.qZA()()()()),2&r&&(e.xp6(3),e.Tol(null!=t.sideBar&&t.sideBar.isOpened?"col-2":"col-1"),e.xp6(2),e.Tol(null!=t.sideBar&&t.sideBar.isOpened?"col-10 ":"col-11 "))},styles:[".row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.opened[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1071}.m-4[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}"]})}return n})();var Q=l(4400);function z(n,s){if(1&n&&(e.TgZ(0,"div",18)(1,"div",19)(2,"h3"),e._UZ(3,"i"),e.qZA(),e.TgZ(4,"div",20)(5,"h1"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()()()()),2&n){const o=e.oxw().$implicit;e.Q6J("routerLink",o.link),e.xp6(3),e.Tol("fa-solid text-main fa-3x "+o.icon),e.xp6(3),e.Oqu(o.length),e.xp6(2),e.Oqu(o.title)}}function L(n,s){if(1&n&&(e.ynx(0),e.YNc(1,z,9,5,"div",17),e.BQk()),2&n){const o=s.$implicit;e.xp6(1),e.Q6J("ngIf",o.isActive)}}let R=(()=>{class n{constructor(o,r,t){this._authService=o,this._router=r,this._recipeService=t,this.userName=localStorage.getItem("userName"),this.isOpened=!0,this.menu=[{title:"Users",icon:"fa-users",link:"/dashboard/admin/users",isActive:this.isAdmin(),length:`+${localStorage.getItem("users")}`},{title:"Recipes",icon:"fa-bowl-rice",link:"/dashboard/admin/recipes",isActive:this.isAdmin(),length:`+${localStorage.getItem("adminRecipes")}`},{title:"Categories",icon:"fa-calendar-days",link:"/dashboard/admin/categories",isActive:this.isAdmin(),length:`+${localStorage.getItem("categories")}`},{title:"User Recipes",icon:"fa-bowl-rice",link:"/dashboard/user/recipes",isActive:this.isUser(),length:`+${localStorage.getItem("userRecipes")}`},{title:"Favourites",icon:"fa-heart",link:"/dashboard/user/favourites",isActive:this.isUser(),length:localStorage.getItem("favourites")}]}isAdmin(){return"SuperAdmin"==this._authService.role}isUser(){return"SystemUser"==this._authService.role}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(c.e),e.Y36(d.F0),e.Y36(Q.j))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:31,vars:2,consts:[["id","home",1,"my-2"],[1,"container"],[1,"row"],[1,"col-md-8","d-flex","align-items-center"],[1,"px-5"],[1,"col-md-4"],["src","assets/homeAvatr.svg","alt","",1,"w-100","mb-0"],["id","items-home",1,"my-3"],[1,"header-dashboard","d-flex","justify-content-between"],[1,"text-main"],[1,"text-darkgrey"],[1,"social-icons","d-flex","flex-column","gap-1"],["href","https://github.com/FattemaAshraf"],[1,"fa-brands","fa-github"],["href","https://www.linkedin.com/in/fatma-ashraf-b57279103"],[1,"fa-brands","fa-linkedin"],[4,"ngFor","ngForOf"],["class","col-md-6 my-3",3,"routerLink",4,"ngIf"],[1,"col-md-6","my-3",3,"routerLink"],[1,"card-home"],[1,"d-flex","flex-column","justify-content-between","align-items-center"]],template:function(r,t){1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),e._uU(6," Welcome "),e.TgZ(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"p"),e._uU(10," This is a welcoming screen for the entry of the application , you can now see the options "),e.qZA()()(),e.TgZ(11,"div",5)(12,"div"),e._UZ(13,"img",6),e.qZA()()()()(),e.TgZ(14,"section",7)(15,"div",1)(16,"div",2)(17,"div",8)(18,"div")(19,"h4",9),e._uU(20,"Your Dashboard"),e.qZA(),e.TgZ(21,"p",10),e._uU(22,"Lorem ipsum dolor sit amet consectetur adipisicing elit."),e.qZA()(),e.TgZ(23,"div",11)(24,"a",12),e._UZ(25,"i",13),e._uU(26," Git Hub"),e.qZA(),e.TgZ(27,"a",14),e._UZ(28,"i",15),e._uU(29," LinkedIn"),e.qZA()()(),e.YNc(30,L,2,1,"ng-container",16),e.qZA()()()),2&r&&(e.xp6(8),e.hij("",t.userName," !"),e.xp6(22),e.Q6J("ngForOf",t.menu))},dependencies:[u.sg,u.O5,d.rH],styles:["#home[_ngcontent-%COMP%]{background-image:url(headerhome.15f266781ac1b511.svg);background-size:cover;background-repeat:no-repeat;background-position:center center;border-radius:15px;color:#fff;background-color:#009247}#home[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-weight:400;font-size:20px}#items-home[_ngcontent-%COMP%]{background-color:#e2e5eb;border-radius:16px;padding:20px}#items-home[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1f263e;text-decoration:none}#items-home[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#009247}#items-home[_ngcontent-%COMP%]   .card-home[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:space-between;padding:20px 100px;border:2px dashed #009247;border-radius:1rem;box-shadow:4px 4px 4px #00000040;transition:all .2s ease-in;background-color:#f0ffef;color:#1f263e}#items-home[_ngcontent-%COMP%]   .card-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem}#items-home[_ngcontent-%COMP%]   .card-home[_ngcontent-%COMP%]:hover{transform:scale(.95);box-shadow:4px 4px 4px #00000040}p[_ngcontent-%COMP%]{max-width:30.25rem}"]})}return n})();var B=l(9862);let x=(()=>{class n{constructor(o){this._httpClient=o}getCurrentUser(){return this._httpClient.get("Users/currentUser")}updateCurrentProfile(o){return this._httpClient.put("Users",o)}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(B.eN))};static#n=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w=l(4426);function E(n,s){if(1&n&&e._UZ(0,"img",33),2&n){const o=e.oxw();e.Q6J("src",o.pathHttps+(null==o.user?null:o.user.imagePath),e.LSH)}}function D(n,s){1&n&&e._UZ(0,"img",34)}function H(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"userName is required"),e.qZA())}function $(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"Invalid userName format must contains numbers and characters"),e.qZA())}function j(n,s){if(1&n&&(e.TgZ(0,"span",35),e.YNc(1,H,2,0,"span",27),e.YNc(2,$,2,0,"span",27),e.qZA()),2&n){const o=e.oxw();let r,t;e.xp6(1),e.Q6J("ngIf",null==(r=o.updateForm.get("userName"))?null:r.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=o.updateForm.get("userName"))?null:t.hasError("pattern"))}}function G(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"Email is required"),e.qZA())}function W(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"Invalid email format"),e.qZA())}function X(n,s){if(1&n&&(e.TgZ(0,"span",35),e.YNc(1,G,2,0,"span",27),e.YNc(2,W,2,0,"span",27),e.qZA()),2&n){const o=e.oxw();let r,t;e.xp6(1),e.Q6J("ngIf",null==(r=o.updateForm.get("email"))?null:r.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=o.updateForm.get("email"))?null:t.hasError("pattern"))}}function K(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"country is required"),e.qZA())}function V(n,s){if(1&n&&(e.TgZ(0,"span",35),e.YNc(1,K,2,0,"span",27),e.qZA()),2&n){const o=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=o.updateForm.get("country"))?null:r.hasError("required"))}}function ee(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"phoneNumber is required "),e.qZA())}function ne(n,s){if(1&n&&(e.TgZ(0,"span",35),e.YNc(1,ee,2,0,"span",27),e.qZA()),2&n){const o=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=o.updateForm.get("phoneNumber"))?null:r.hasError("required"))}}function te(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"password is required "),e.qZA())}function oe(n,s){if(1&n&&(e.TgZ(0,"span",35),e.YNc(1,te,2,0,"span",27),e.qZA()),2&n){const o=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=o.updateForm.get("confirmPassword"))?null:r.hasError("required"))}}function re(n,s){1&n&&(e.TgZ(0,"ngx-dropzone-label"),e._UZ(1,"i",36),e.TgZ(2,"div"),e._uU(3," Drag & Drop or "),e.TgZ(4,"span",37),e._uU(5," Choose a Item Image to Upload "),e.qZA()()())}function ie(n,s){if(1&n&&(e.TgZ(0,"ngx-dropzone-label"),e._UZ(1,"img",38),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("src",o.imgSrc,e.LSH)}}function se(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",39),e.NdJ("removed",function(){const a=e.CHM(o).$implicit,p=e.oxw();return e.KtG(p.onRemove(a))}),e.qZA()}if(2&n){const o=s.$implicit;e.Q6J("removable",!0)("file",o)}}let ae=(()=>{class n{constructor(o,r,t,a){this._userService=o,this.dialog=r,this.toastr=t,this._router=a,this.pathHttps="https://upskilling-egypt.com:443/",this.isUpdatedPage=!0,this.updateForm=new i.cw({userName:new i.NI(null,[i.kI.required,i.kI.minLength(6),i.kI.pattern("")]),email:new i.NI(null,[i.kI.required,i.kI.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}")]),country:new i.NI(null,[i.kI.required]),phoneNumber:new i.NI(null,[i.kI.required,i.kI.minLength(11),i.kI.pattern("^01[0-2]d{1,8}$")]),profileImage:new i.NI(null),confirmPassword:new i.NI(null,[i.kI.required,i.kI.minLength(6),i.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{6,}$")])}),this.message='"Welcome Back"',this.hide=!0,this.files=[],this.isUpdatedPage&&this.getCurrentUser()}getCurrentUser(){return this._userService.getCurrentUser().subscribe({next:o=>{console.log(o),this.user=o},error:o=>{console.log(o.error.message)},complete:()=>{this.imgSrc=this.pathHttps+this.user?.imagePath,this.updateForm.patchValue({userName:this.user?.userName,email:this.user?.email,country:this.user.country,phoneNumber:this.user.phoneNumber,profileImage:this.imgSrc,confirmPassword:this.user.confirmPassword})}})}onSubmit(o){console.log(o.value);let r=new FormData;r.append("userName",o.value.userName),r.append("email",o.value.email),r.append("country",o.value.country),r.append("phoneNumber",o.value.phoneNumber),r.append("profileImage",this.imgSrc,this.imgSrc.name),r.append("confirmPassword",o.value.confirmPassword),this._userService.updateCurrentProfile(r).subscribe({next:t=>{console.log(t)},error:t=>{console.log(t),this.toastr.error(t.error.message,"Error!")},complete:()=>{this.toastr.success(this.message,"Updated"),this._router.navigate(["/dashboard/home"])}})}onSelect(o){console.log(o),this.imgSrc=o.addedFiles[0],this.files.push(...o.addedFiles)}onRemove(o){console.log(o),this.files.splice(this.files.indexOf(o),1)}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(x),e.Y36(f.uw),e.Y36(g._W),e.Y36(d.F0))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile-user"]],decls:62,vars:16,consts:[["id","header-profile",1,"my-2"],[1,"container"],[1,"row"],[1,"col-md-9","d-flex","align-items-center"],[1,"px-5"],[1,"col-md-3","img-position"],["class","img-fluid","alt","",3,"src",4,"ngIf"],["class","img-fluid","src","assets/avatar.png","alt","",4,"ngIf"],["id","info-profile"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"input-group","flex-nowrap","mb-3"],["id","addon-wrapping",1,"input-group-text","py-2"],[1,"fa-solid","fa-user"],["type","text","formControlName","userName","placeholder","Enter Your userName","aria-label","userName","aria-describedby","addon-wrapping",1,"form-control","py-2"],["class","text-danger mb-3",4,"ngIf"],[1,"fa-solid","fa-at"],["type","email","formControlName","email","placeholder","Enter Your Email","aria-label","email","aria-describedby","addon-wrapping",1,"form-control","py-2"],[1,"fa-solid","fa-earth-americas"],["type","text","formControlName","country","placeholder","Enter Your country","aria-label","country","aria-describedby","addon-wrapping",1,"form-control","py-2"],[1,"fa-solid","fa-mobile-screen"],["formControlName","phoneNumber","type","text","placeholder","phoneNumber","aria-label","phoneNumber","aria-describedby","basic-addon1",1,"form-control","py-2"],[1,"fa-solid","fa-lock"],["formControlName","confirmPassword","type","text","placeholder","Confirm Password","aria-label","Password","aria-describedby","basic-addon1",1,"form-control","py-2",3,"type"],[1,"eye-icon",3,"click"],[1,"fa-solid"],[3,"multiple","change"],[4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","my-2"],["type","submit","routerLink","/dashboard/home",1,"outline-primary","m-2","w-50"],[1,"fa-solid","fa-arrow-left","pl-2"],["type","submit",1,"primary","m-2","w-50"],["alt","",1,"img-fluid",3,"src"],["src","assets/avatar.png","alt","",1,"img-fluid"],[1,"text-danger","mb-3"],[1,"fa-solid","fa-upload","fa-3x","mb-3"],[1,"text-main"],["alt","",1,"w-25",3,"src"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed"]],template:function(r,t){if(1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8," This is a welcoming screen for the entry of the profile , you can now see the options "),e.qZA()()(),e.TgZ(9,"div",5)(10,"div"),e.YNc(11,E,1,1,"img",6),e.YNc(12,D,1,0,"img",7),e.qZA()()()()(),e.TgZ(13,"section",8)(14,"div",1)(15,"div",2)(16,"form",9),e.NdJ("ngSubmit",function(){return t.onSubmit(t.updateForm)}),e.TgZ(17,"div",2)(18,"div",10)(19,"div",11)(20,"span",12),e._UZ(21,"i",13),e.qZA(),e._UZ(22,"input",14),e.qZA(),e.YNc(23,j,3,2,"span",15),e.qZA(),e.TgZ(24,"div",10)(25,"div",11)(26,"span",12),e._UZ(27,"i",16),e.qZA(),e._UZ(28,"input",17),e.qZA(),e.YNc(29,X,3,2,"span",15),e.qZA()(),e.TgZ(30,"div",2)(31,"div",10)(32,"div",11)(33,"span",12),e._UZ(34,"i",18),e.qZA(),e._UZ(35,"input",19),e.qZA(),e.YNc(36,V,2,1,"span",15),e.qZA(),e.TgZ(37,"div",10)(38,"div",11)(39,"span",12),e._UZ(40,"i",20),e.qZA(),e._UZ(41,"input",21),e.qZA(),e.YNc(42,ne,2,1,"span",15),e.qZA()(),e.TgZ(43,"div",2)(44,"div",11)(45,"span",12),e._UZ(46,"i",22),e.qZA(),e._UZ(47,"input",23),e.TgZ(48,"span",24),e.NdJ("click",function(){return t.hide=!t.hide}),e._UZ(49,"i",25),e.qZA()(),e.YNc(50,oe,2,1,"span",15),e.qZA(),e.TgZ(51,"div")(52,"ngx-dropzone",26),e.NdJ("change",function(p){return t.onSelect(p)}),e.YNc(53,re,6,0,"ngx-dropzone-label",27),e.YNc(54,ie,2,1,"ngx-dropzone-label",27),e.YNc(55,se,1,2,"ngx-dropzone-image-preview",28),e.qZA()(),e.TgZ(56,"div",29)(57,"button",30),e._UZ(58,"i",31),e._uU(59," Back to Home "),e.qZA(),e.TgZ(60,"button",32),e._uU(61," Update "),e.qZA()()()()()()),2&r){let a,p,m,h,_;e.xp6(6),e.Oqu(null==t.user?null:t.user.userName),e.xp6(5),e.Q6J("ngIf",null==t.user?null:t.user.imagePath),e.xp6(1),e.Q6J("ngIf",!(null!=t.user&&t.user.imagePath)),e.xp6(4),e.Q6J("formGroup",t.updateForm),e.xp6(7),e.Q6J("ngIf",(null==(a=t.updateForm.get("userName"))?null:a.invalid)&&((null==(a=t.updateForm.get("userName"))?null:a.dirty)||(null==(a=t.updateForm.get("userName"))?null:a.touched))),e.xp6(6),e.Q6J("ngIf",(null==(p=t.updateForm.get("email"))?null:p.invalid)&&((null==(p=t.updateForm.get("email"))?null:p.dirty)||(null==(p=t.updateForm.get("email"))?null:p.touched))),e.xp6(7),e.Q6J("ngIf",(null==(m=t.updateForm.get("country"))?null:m.invalid)&&((null==(m=t.updateForm.get("country"))?null:m.dirty)||(null==(m=t.updateForm.get("country"))?null:m.touched))),e.xp6(6),e.Q6J("ngIf",(null==(h=t.updateForm.get("phoneNumber"))?null:h.invalid)&&((null==(h=t.updateForm.get("phoneNumber"))?null:h.dirty)||(null==(h=t.updateForm.get("phoneNumber"))?null:h.touched))),e.xp6(5),e.Q6J("type",t.hide?"password":"text"),e.xp6(2),e.Tol(t.hide?"fa-eye-slash":"fa-eye"),e.xp6(1),e.Q6J("ngIf",(null==(_=t.updateForm.get("confirmPassword"))?null:_.invalid)&&((null==(_=t.updateForm.get("confirmPassword"))?null:_.dirty)||(null==(_=t.updateForm.get("confirmPassword"))?null:_.touched))),e.xp6(2),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("ngIf",!t.imgSrc),e.xp6(1),e.Q6J("ngIf",t.imgSrc),e.xp6(1),e.Q6J("ngForOf",t.files)}},dependencies:[u.sg,u.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,w._f,w.NP,w.sv,d.rH],styles:["#header-profile[_ngcontent-%COMP%]{background-image:url(headerhome.15f266781ac1b511.svg);background-size:cover;background-repeat:no-repeat;background-position:center center;border-radius:15px;color:#fff;background-color:#009247}#header-profile[_ngcontent-%COMP%]   .img-position[_ngcontent-%COMP%]{position:relative;min-height:200px}#header-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:10px solid white;position:absolute;width:200px;height:200px;transform:translateY(40%)}#header-profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:30.25rem}#header-profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-weight:400;font-size:20px}#info-profile[_ngcontent-%COMP%]{margin-top:100px}.eye-icon[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:50%;right:5%;transform:translateY(-50%);z-index:100}"]})}return n})();function le(n,s){if(1&n&&e._UZ(0,"img",20),2&n){const o=e.oxw();e.Q6J("src",o.pathHttps+(null==o.user?null:o.user.imagePath),e.LSH)}}function ce(n,s){1&n&&e._UZ(0,"img",21)}const pe=function(n,s,o){return{"sticky-nav":n,"dark-bg-nav":s,"light-bg-nav":o}},de=function(n,s,o,r){return{"fa-solid fa-chevron-down text":n,"sticky-nav":s,"text-light-nav":o,"text-dark-nav":r}};let ue=(()=>{class n{constructor(o){this._userService=o,this.userName=localStorage.getItem("userName"),this.role=localStorage.getItem("role"),this.pathHttps="https://upskilling-egypt.com:443/",this.isSticky=!1,this.isDarkBackground=!1,this.isLightBackground=!0,this.isIcon=!0}ngOnInit(){this.getCurrentUser()}getCurrentUser(){this._userService.getCurrentUser().subscribe({next:o=>{this.user=o},error:()=>{},complete:()=>{}})}onWindowScroll(){const o=window.scrollY;this.isSticky=o>50,this.isDarkBackground=o>100,this.isLightBackground=o<100}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(x))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-navbar"]],hostBindings:function(r,t){1&r&&e.NdJ("scroll",function(){return t.onWindowScroll()},!1,e.Jf7)},decls:30,vars:15,consts:[["id","navbar",1,"my-2",3,"ngClass"],[1,"container-fluid","px-4"],[1,"row"],[1,"col-3","ms-auto"],[1,"user-profile","d-flex","align-items-center","gap-2","justify-content-end"],[1,"user-avatar"],["class","img-fluid","alt","",3,"src",4,"ngIf"],["class","img-fluid","src","assets/avatar.png","alt","",4,"ngIf"],[1,"user-details"],[1,"mb-0"],[1,"mb-0","fs-6","fw-light"],[1,"dropdown","text-center"],["role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-chevron-down","text",3,"ngClass"],[1,"dropdown-menu"],["routerLink","/dashboard/profile",1,"dropdown-item"],[1,"fa-solid","fa-pen-to-square","text-main"],[1,"p-2"],[1,"dropdown-item"],[1,"fa-solid","fa-right-from-bracket","text-danger"],["alt","",1,"img-fluid",3,"src"],["src","assets/avatar.png","alt","",1,"img-fluid"]],template:function(r,t){1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.YNc(6,le,1,1,"img",6),e.YNc(7,ce,1,0,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"p",9),e._uU(10),e.qZA(),e.TgZ(11,"p",10),e._uU(12),e.qZA()(),e.TgZ(13,"div",11)(14,"a",12),e.ynx(15),e._UZ(16,"i",13),e.BQk(),e.qZA(),e.TgZ(17,"ul",14)(18,"li")(19,"a",15)(20,"span"),e._UZ(21,"i",16),e.qZA(),e.TgZ(22,"span",17),e._uU(23,"My Profile"),e.qZA()()(),e.TgZ(24,"li")(25,"a",18)(26,"span"),e._UZ(27,"i",19),e.qZA(),e.TgZ(28,"span",17),e._uU(29,"Log Out"),e.qZA()()()()()()()()()()),2&r&&(e.Q6J("ngClass",e.kEZ(6,pe,t.isSticky,t.isDarkBackground,t.isLightBackground)),e.xp6(6),e.Q6J("ngIf",null==t.user?null:t.user.imagePath),e.xp6(1),e.Q6J("ngIf",!(null!=t.user&&t.user.imagePath)),e.xp6(3),e.Oqu(null==t.user?null:t.user.userName),e.xp6(2),e.Oqu(null==t.user||null==t.user.group?null:t.user.group.name),e.xp6(4),e.Q6J("ngClass",e.l5B(10,de,t.isIcon,t.isSticky,t.isDarkBackground,t.isLightBackground)))},dependencies:[u.mk,u.O5,d.rH],styles:["#navbar[_ngcontent-%COMP%]{padding:1rem 0rem;border-radius:1rem;transition:all .3s ease}#navbar[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;border-radius:50%}#navbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:50px;height:50px}span[_ngcontent-%COMP%]{color:#1f384c}.sticky-nav[_ngcontent-%COMP%]{position:sticky;box-shadow:0 4px 8px #0000001a}.light-bg-nav[_ngcontent-%COMP%]{background-color:#f8f9fb}.dark-bg-nav[_ngcontent-%COMP%]{background-color:#1f263e;color:#f8f9fb}.text-light-nav[_ngcontent-%COMP%]{color:#f8f9fb}.text-dark-nav[_ngcontent-%COMP%]{color:#000}"]})}return n})();const me=[{path:"",component:P,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:R},{path:"profile",component:ae},{path:"admin",canActivate:[(n,s)=>{const o=(0,e.f3M)(c.e),r=(0,e.f3M)(d.F0);return null!==localStorage.getItem("userToken")&&"SuperAdmin"==localStorage.getItem("role")||(o.getProfile(),r.navigate(["/dashboard"]),!1)}],loadChildren:()=>l.e(107).then(l.bind(l,9107)).then(n=>n.AdminModule)},{path:"user",canActivate:[(n,s)=>{const o=(0,e.f3M)(c.e),r=(0,e.f3M)(d.F0);return null!==localStorage.getItem("userToken")&&"SystemUser"==localStorage.getItem("role")||(o.getProfile(),r.navigate(["/dashboard"]),!1)}],loadChildren:()=>l.e(2).then(l.bind(l,5002)).then(n=>n.UserModule)}]}];let ge=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#n=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({imports:[u.ez,Z.m,d.Bz.forChild(me)]})}return n})();e.B6R(P,function(){return[ue,b,d.lC]},[])}}]);
