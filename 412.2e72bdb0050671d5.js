"use strict";(self.webpackChunkFood_Recipe=self.webpackChunkFood_Recipe||[]).push([[412],{5412:(P,d,n)=>{n.r(d),n.d(d,{UserRecipesModule:()=>Q});var p=n(6814),u=n(8693),g=n(7700),e=n(5879);function h(i,s){if(1&i&&(e.TgZ(0,"div",9),e._UZ(1,"img",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("src",t.pathHttps+t.data.imagePath,e.LSH)}}function _(i,s){1&i&&(e.TgZ(0,"div",9)(1,"h2",11),e._uU(2,"Not Have Image"),e.qZA()())}let f=(()=>{class i{constructor(t,o){this.dialogRef=t,this.data=o,this.pathHttps="https://upskilling-egypt.com:443/"}ngOnit(){console.log(this.data)}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.so),e.Y36(g.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-details"]],decls:16,vars:5,consts:[[1,"card-auth"],[1,"d-flex","justify-content-between","mb-4","align-items-center"],[3,"click"],[1,"fa-regular","fa-circle-xmark","text-danger","fa-2x"],["class","recipe-img text-center",4,"ngIf"],[1,"py-5","description","mt-5"],[1,"text-end"],["type","submit",1,"outline-danger","my-2",3,"mat-dialog-close"],[1,"fa-regular","fa-heart","text-danger"],[1,"recipe-img","text-center"],["alt","",1,"img-fluid","rounded-lg","border-success",3,"src"],[1,"text-danger"]],template:function(o,a){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div")(3,"h2"),e._uU(4),e.qZA()(),e.TgZ(5,"a",2),e.NdJ("click",function(){return a.onNoClick()}),e._UZ(6,"i",3),e.qZA()(),e.YNc(7,h,2,1,"div",4),e.YNc(8,_,3,0,"div",4),e.TgZ(9,"div",5)(10,"h4"),e._uU(11),e.qZA()(),e.TgZ(12,"div",6)(13,"button",7),e._uU(14," Favourite "),e._UZ(15,"i",8),e.qZA()()()),2&o&&(e.xp6(4),e.hij("Details ",a.data.name,""),e.xp6(3),e.Q6J("ngIf",a.data.imagePath),e.xp6(1),e.Q6J("ngIf",!a.data.imagePath),e.xp6(3),e.hij(" ",a.data.description,""),e.xp6(2),e.Q6J("mat-dialog-close",a.data.id))},dependencies:[p.O5,g.ZT],styles:[".recipe-img[_ngcontent-%COMP%]{max-height:250px}.recipe-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:16px}.description[_ngcontent-%COMP%]{border-bottom:2px dashed #1f263e}"]})}return i})();var Z=n(2425),v=n(4400),m=n(157),T=n(7862),x=n(331),l=n(95),b=n(8805),U=n(8937),A=n(7210);function R(i,s){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function y(i,s){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",35),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("src",o.pathHttps+t.imagePath,e.LSH)}}function C(i,s){1&i&&(e.TgZ(0,"div",36)(1,"p",37),e._uU(2,"Not Image Available"),e.qZA()())}function D(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function q(i,s){if(1&i&&(e.ynx(0),e.YNc(1,D,2,1,"span",24),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.category)}}function N(i,s){1&i&&(e.ynx(0),e.TgZ(1,"span",37),e._uU(2," No Category "),e.qZA(),e.BQk())}function I(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",25),e.YNc(4,y,2,1,"div",21),e.YNc(5,C,3,0,"div",26),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"trimDescription"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"td"),e.YNc(18,q,2,1,"ng-container",21),e.YNc(19,N,3,0,"ng-container",21),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td")(23,"div",27)(24,"a",28),e._UZ(25,"i",29),e.qZA(),e.TgZ(26,"ul",30)(27,"li")(28,"a",31),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openDialog(c))}),e.TgZ(29,"span"),e._UZ(30,"i",32),e.qZA(),e.TgZ(31,"span",33),e._uU(32,"View"),e.qZA()()(),e.TgZ(33,"li")(34,"a",31),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.addToFavourite(c.id))}),e.TgZ(35,"span"),e._UZ(36,"i",34),e.qZA(),e.TgZ(37,"span",33),e._uU(38,"Favourite"),e.qZA()()()()()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngIf",t.imagePath),e.xp6(1),e.Q6J("ngIf",!t.imagePath),e.xp6(2),e.Oqu(e.lcZ(8,10,t.description)),e.xp6(3),e.Oqu(t.price),e.xp6(2),e.Oqu(e.xi3(13,12,t.creationDate,"dd-MM-yyyy , hh:mm a")),e.xp6(3),e.Oqu(e.xi3(16,15,t.modificationDate,"dd-MM-yyyy , hh:mm a")),e.xp6(3),e.Q6J("ngIf",t.category.length>0),e.xp6(1),e.Q6J("ngIf",0==t.category.length),e.xp6(2),e.Oqu(t.tag.name)}}function J(i,s){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,I,39,18,"tr",24),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.tableData)}}function S(i,s){1&i&&(e.TgZ(0,"div",2)(1,"div",38),e._UZ(2,"app-no-data"),e.qZA()())}const M=function(){return[5,10,25]};function O(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-paginator",39,40),e.NdJ("page",function(a){e.CHM(t);const c=e.oxw();return e.KtG(c.handlePageEvent(a))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("length",null==t.tableResponse?null:t.tableResponse.totalNumberOfRecords)("pageSize",null==t.tableResponse?null:t.tableResponse.pageSize)("pageSizeOptions",e.DdM(4,M))("pageIndex",null==t.tableResponse?null:t.tableResponse.pageNumber)}}let F=(()=>{class i{constructor(t,o,a,c,r,z){this.dialog=t,this.toastr=o,this._recipeService=a,this._router=c,this._helperService=r,this._favService=z,this.searchValue="",this.pageNumber=1,this.pageSize=5,this.tableData=[],this.tags=[],this.pathHttps="https://upskilling-egypt.com:443/"}ngOnInit(){this.getTableData(),this.getAllTags()}getTableData(){let t={};t=this.tagId>=1?{pageSize:this.pageSize,pageNumber:this.pageNumber,tagId:this.tagId,name:this.searchValue}:{pageSize:this.pageSize,pageNumber:this.pageNumber,name:this.searchValue},this._recipeService.getRecipes(t).subscribe({next:o=>{console.log(o),this.tableResponse=o,this.tableData=this.tableResponse?.data,console.log(this.tableData?.length);let a=this.tableResponse?.totalNumberOfRecords;void 0!==a?localStorage.setItem("userRecipes",a.toLocaleString()):localStorage.setItem("userRecipes","0")}})}handlePageEvent(t){console.log(t),this.pageNumber=t.pageIndex,this.pageSize=t.pageSize,this.getTableData()}onAddNewRecipe(t){this._recipeService.addRecipe(t).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o.error.message),this.toastr.error(o.error.message,"error!")},complete:()=>{this.toastr.success(this.message,"Done!"),this.getTableData()}})}openDeleteDialog(t){console.log(t),this.dialog.open(u.F,{data:t,width:"30%"}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),a&&(console.log(a.id),this.onDeleteRecipe(a.id))})}onDeleteRecipe(t){this._recipeService.deleteRecipe(t).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o.error.message),this.toastr.error(o.error.message,"error!")},complete:()=>{this.toastr.success(this.message,"Done!"),this.getTableData()}})}getAllTags(){this._helperService.getTags().subscribe({next:t=>{console.log(t),this.tags=t}})}openDialog(t){this.dialog.open(f,{data:t,width:"40%"}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),this.addToFavourite(a)})}addToFavourite(t){this._favService.onAddToFavourite(t).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o.error.message)},complete:()=>{this.toastr.success("added to favourites","Done!")}})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.uw),e.Y36(Z._W),e.Y36(v.j),e.Y36(m.F0),e.Y36(T.W),e.Y36(x.D))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-recipes"]],decls:55,vars:6,consts:[["id","page-header",1,"my-3"],[1,"container"],[1,"row"],[1,"col-md-9","d-flex","align-items-center"],[1,"px-5"],[1,"col-md-3"],["src","assets/menu-avatar.svg","alt","",1,"w-75","mb-0"],["id","header-table",1,"my-3"],[1,"container-fluid"],[1,"d-flex","gap-5","justify-content-between","align-items-center"],[1,"flex-grow-1"],[1,"col-md-10"],["type","text","placeholder","Search Here","aria-label","search","aria-describedby","basic-addon1",1,"form-control","rounded",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-2"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange","change"],["selected","","value","0"],[3,"value",4,"ngFor","ngForOf"],["id","table",1,"my-4"],[1,"d-flex","justify-content-between","content-table"],[1,"table","table-hover"],["scope","col"],[4,"ngIf"],["class","row",4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"w-25"],["class","no-img",4,"ngIf"],[1,"dropdown","text-center"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","text-muted"],[1,"fa-solid","fa-ellipsis","fa-lg","text-main"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fa-regular","fa-eye","text-main"],[1,"p-2"],[1,"fa-regular","fa-heart","text-danger"],["alt","",1,"w-25","rounded-lg","border-success",3,"src"],[1,"no-img"],[1,"text-muted"],[1,"col-md-6","mx-auto"],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["paginator",""]],template:function(o,a){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),e._uU(6,"Recipes "),e.TgZ(7,"span"),e._uU(8,"Items!"),e.qZA()(),e.TgZ(9,"p"),e._uU(10," You can now add your items that any user can order it from the Application and you can edit "),e.qZA()()(),e.TgZ(11,"div",5)(12,"div"),e._UZ(13,"img",6),e.qZA()()()()(),e.TgZ(14,"section",7)(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",2)(19,"div",11)(20,"input",12),e.NdJ("ngModelChange",function(r){return a.searchValue=r})("keyup.enter",function(){return a.getTableData()}),e.qZA()(),e.TgZ(21,"div",13)(22,"select",14),e.NdJ("ngModelChange",function(r){return a.tagId=r})("change",function(){return a.getTableData()}),e.TgZ(23,"option",15),e._uU(24,"All"),e.qZA(),e.YNc(25,R,2,2,"option",16),e.qZA()()()()()()(),e.TgZ(26,"section",17)(27,"div",8)(28,"div",18)(29,"p"),e._uU(30,"Name"),e.qZA(),e.TgZ(31,"p"),e._uU(32,"Actions"),e.qZA()(),e.TgZ(33,"table",19)(34,"thead")(35,"tr"),e._UZ(36,"th",20),e.TgZ(37,"th",20),e._uU(38,"Image"),e.qZA(),e.TgZ(39,"th",20),e._uU(40,"Description"),e.qZA(),e.TgZ(41,"th",20),e._uU(42,"Price"),e.qZA(),e.TgZ(43,"th",20),e._uU(44,"Creation Date"),e.qZA(),e.TgZ(45,"th",20),e._uU(46,"Modification Date"),e.qZA(),e.TgZ(47,"th",20),e._uU(48,"Category"),e.qZA(),e.TgZ(49,"th",20),e._uU(50,"Tag"),e.qZA(),e._UZ(51,"th",20),e.qZA()(),e.YNc(52,J,2,1,"tbody",21),e.qZA(),e.YNc(53,S,3,0,"div",22),e.YNc(54,O,3,5,"div",21),e.qZA()()),2&o&&(e.xp6(20),e.Q6J("ngModel",a.searchValue),e.xp6(2),e.Q6J("ngModel",a.tagId),e.xp6(3),e.Q6J("ngForOf",a.tags),e.xp6(27),e.Q6J("ngIf",a.tableData.length>0),e.xp6(1),e.Q6J("ngIf",0==a.tableData.length),e.xp6(1),e.Q6J("ngIf",a.tableData.length>0))},dependencies:[p.sg,p.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,b.NW,U.d,p.uU,A.V]})}return i})();var Y=n(6208);const w=[{path:"",component:F}];let Q=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[p.ez,Y.m,m.Bz.forChild(w)]})}return i})()}}]);
