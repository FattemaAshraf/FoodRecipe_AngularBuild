"use strict";(self.webpackChunkFood_Recipe=self.webpackChunkFood_Recipe||[]).push([[306],{3306:(D,g,a)=>{a.r(g),a.d(g,{FavouritesModule:()=>O});var s=a(6814),m=a(8693),e=a(5879),u=a(331),v=a(7700),h=a(2425),p=a(157),c=a(95),f=a(8937),x=a(7210);function _(t,r){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"img",26),e.qZA()),2&t){const o=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("src",n.pathHttps+o.recipe.imagePath,e.LSH)}}function C(t,r){1&t&&(e.TgZ(0,"div",27)(1,"h4",28),e._uU(2,"Not Image Available"),e.qZA()())}function F(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",20)(1,"div",21)(2,"a",22),e.NdJ("click",function(){const l=e.CHM(o).$implicit,d=e.oxw(2);return e.KtG(d.openDeleteDialog(l))}),e._UZ(3,"i",23),e.qZA(),e.YNc(4,_,2,1,"div",18),e.YNc(5,C,3,0,"div",24),e.TgZ(6,"div",25)(7,"h4"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.ALo(11,"trimDescription"),e.qZA()()()()}if(2&t){const o=r.$implicit;e.xp6(4),e.Q6J("ngIf",o.recipe.imagePath),e.xp6(1),e.Q6J("ngIf",!o.recipe.imagePath),e.xp6(3),e.Oqu(o.recipe.name),e.xp6(2),e.Oqu(e.lcZ(11,4,o.recipe.description))}}function b(t,r){if(1&t&&(e.ynx(0),e.YNc(1,F,12,6,"div",19),e.BQk()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.tableData)}}function Z(t,r){1&t&&(e.ynx(0),e.TgZ(1,"div",29),e._UZ(2,"app-no-data"),e.qZA(),e.BQk())}const y=function(){return["/dashboard/user/recipes"]};let M=(()=>{class t{constructor(o,n,i){this._favService=o,this.dialog=n,this.toastr=i,this.searchValue="",this.pageNumber=1,this.pageSize=5,this.tableData=[],this.pathHttps="https://upskilling-egypt.com:443/"}ngOnInit(){this.getAllFavourites()}getAllFavourites(){this._favService.getAllFavourites({pageSize:this.pageSize,pageNumber:this.pageNumber,name:this.searchValue}).subscribe({next:n=>{console.log(n),this.tableResponse=n,this.tableData=this.tableResponse?.data,console.log(this.tableData),console.log(this.tableData.length);let i=this.tableData?.length;localStorage.setItem("favourites",i.toLocaleString())},error:n=>{console.log(n.error.message)},complete:()=>{}})}openDeleteDialog(o){console.log(o),this.dialog.open(m.F,{data:o,width:"30%"}).afterClosed().subscribe(i=>{console.log("The dialog was closed"),console.log(i),i&&(console.log(i.id),this.onDeleteFav(i.id))})}onDeleteFav(o){this._favService.onDeleteFavourite(o).subscribe({next:n=>{console.log(n)},error:n=>{console.log(n.error.message),this.toastr.error(n.error.message,"error!")},complete:()=>{this.toastr.success("Done!"),this.getAllFavourites()}})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(u.D),e.Y36(v.uw),e.Y36(h._W))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-favourites"]],decls:30,vars:5,consts:[["id","page-header",1,"my-3"],[1,"container"],[1,"row"],[1,"col-md-9","d-flex","align-items-center"],[1,"px-5"],[1,"col-md-3"],["src","assets/menu-avatar.svg","alt","",1,"w-75","mb-0"],["id","header-table",1,"my-3"],[1,"container-fluid"],[1,"d-flex","gap-5","justify-content-between","align-items-center"],[1,"flex-grow-1"],[1,"row","align-items-center"],[1,"col-md-10"],["type","text","placeholder","search by name ","aria-label","search","aria-describedby","basic-addon1",1,"form-control","rounded",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-2"],["type","submit",1,"primary","w-100",3,"routerLink"],[1,"fa-solid","fa-arrow-right","pl-2"],["id","favourites",1,"my-4"],[4,"ngIf"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card-fav"],[3,"click"],[1,"fa-solid","fa-trash-can","fa-1x"],["class","no-img",4,"ngIf"],[1,"description"],["alt","",1,"img-fluid",3,"src"],[1,"no-img"],[1,"text-muted"],[1,"col-md-6","mx-auto"]],template:function(n,i){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),e._uU(6,"Favourites "),e.TgZ(7,"span"),e._uU(8,"Items!"),e.qZA()(),e.TgZ(9,"p"),e._uU(10," You can now add your items that any user can order it from the Application and you can edit "),e.qZA()()(),e.TgZ(11,"div",5)(12,"div"),e._UZ(13,"img",6),e.qZA()()()()(),e.TgZ(14,"section",7)(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"input",13),e.NdJ("ngModelChange",function(d){return i.searchValue=d})("keyup.enter",function(){return i.getAllFavourites()}),e.qZA()(),e.TgZ(21,"div",14)(22,"button",15),e._uU(23," All Recipes "),e._UZ(24,"i",16),e.qZA()()()()()()(),e.TgZ(25,"section",17)(26,"div",1)(27,"div",2),e.YNc(28,b,2,1,"ng-container",18),e.YNc(29,Z,3,0,"ng-container",18),e.qZA()()()),2&n&&(e.xp6(20),e.Q6J("ngModel",i.searchValue),e.xp6(2),e.Q6J("routerLink",e.DdM(4,y)),e.xp6(6),e.Q6J("ngIf",i.tableData.length>0),e.xp6(1),e.Q6J("ngIf",0==i.tableData.length))},dependencies:[p.rH,s.sg,s.O5,c.Fj,c.JJ,c.On,f.d,x.V],styles:[".card-fav[_ngcontent-%COMP%]{border-radius:.9375rem;background:#FFF;box-shadow:4px 4px 4px #00000040;margin:20px 10px;transition:all .2s ease-in;position:relative}.card-fav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;border-radius:.9375rem .9375rem 2.1875rem 2.1875rem}.card-fav[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#3a3a3d;padding:20px}.card-fav[_ngcontent-%COMP%]   .no-img[_ngcontent-%COMP%]{height:180px;display:flex;justify-content:center;align-items:center}.card-fav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;cursor:pointer;border:2px solid #1F263E;border-radius:5px;padding:5px;transition:all .3s ease}.card-fav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.card-fav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#1f263e;border:none}.card-fav[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:4px 4px 4px #00000040}"]})}return t})();var T=a(6208);const A=[{path:"",component:M}];let O=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(A),s.ez,T.m]})}return t})()}}]);
